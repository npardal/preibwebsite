(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[397],{1797:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/notes",function(){return n(2092)}])},4473:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(5893),o=n(7294);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,n,a,c=u(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).anchor=(0,o.createRef)(),t}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this;new IntersectionObserver((function(t){e.props.onReachEnd&&e.props.onReachEnd()})).observe(this.anchor.current)}},{key:"render",value:function(){return(0,r.jsxs)(r.Fragment,{children:[this.props.children,(0,r.jsx)("div",{id:"anchor?",ref:this.anchor})]})}}])&&i(t.prototype,n),a&&i(t,a),l}(o.Component)},5523:function(e,t,n){"use strict";var r=n(5893);t.Z=function(e){var t=e.bg;return(0,r.jsx)("div",{id:"toppadding",className:"h-[56px] ".concat(t)})}},4375:function(e,t,n){"use strict";var r=n(5893),o=n(7294);t.Z=function(e){var t=e.initialValue,n=e.onSearch,i=e.placeholder,a=(0,o.useRef)(null);return(0,r.jsx)("form",{onSubmit:function(e){e.preventDefault(),n&&n(e,a.current.value)},children:(0,r.jsxs)("div",{className:"w-full flex h-14 gap-0 border-2 rounded-xl focus-within:shadow transition-shadow focus-within:ring",children:[(0,r.jsx)("input",{ref:a,type:"text",className:"h-full w-full pl-5 pr-1 rounded-l-xl z-0 focus:outline-none",placeholder:i||"Search...",defaultValue:t||""}),(0,r.jsx)("button",{type:"submit",children:(0,r.jsx)("div",{className:"cursor-pointer mr-3 text-gray-800 hover:text-gray-500 transition-colors",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})})]})})}},2092:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return R},default:function(){return P}});var r=n(8520),o=n.n(r),i=n(5893),a=n(7294),c=n(5523),s=n(1664),l=n(843),u=n.n(l);function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d=function(e){var t=e.title,n=e.grade,r=e.subjects,o=e.id;e.imageURL;return(0,i.jsx)(s.default,{href:"/notes/".concat(o),children:(0,i.jsx)("a",{children:(0,i.jsxs)("div",{className:"".concat(u().card," rounded-4xl overflow-hidden transition-shadow hover:shadow-md"),children:[(0,i.jsx)("div",{className:"border-2 h-56"}),(0,i.jsxs)("div",{className:"p-5",children:[(0,i.jsx)("h1",{className:" font-bold text-center text-xl",children:t}),(0,i.jsx)("div",{className:"flex flex-row justify-center gap-x-2 mt-4",children:f(r).concat([n]).map((function(e,t){return(0,i.jsx)("div",{className:"border-2 rounded-full py-1 px-2",children:(0,i.jsx)("p",{className:"text-md",children:e})},t)}))})]})]})})})},h=n(4473),p=n(4375),x=n(6268);function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,c,"next",e)}function c(e){m(i,r,o,a,c,"throw",e)}a(void 0)}))}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return!t||"object"!==O(t)&&"function"!==typeof t?v(e):t}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var O=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function k(e){return(0,i.jsx)("div",{className:"py-1 px-5 font-bold bg-blue-400 rounded-full border-2 border-blue-600 text-white focus:ring focus:outline-none hover:shadow-lg transition-all duration-100 hover:scale-105 cursor-pointer m-1",children:e.children})}var P=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(l,e);var t,n,r,a=S(l);function l(){var e;return y(this,l),(e=a.apply(this,arguments)).state={notes:e.props.initialNotes||[],hasMore:void 0==e.props.hasMore||e.props.hasMore,limit:e.props.limit||15,offset:e.props.offset||0,loading:!1,baseUrl:e.props.baseUrl,gradeFilter:e.props.gradeFilter},e.loadMore=b(o().mark((function t(){var n,r,i,a,c,s,l,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.hasMore||e.state.loading){t.next=16;break}return e.setState({loading:!0}),n=e.state,r=n.baseUrl,i=n.limit,a=n.offset,c=n.gradeFilter,s="".concat(r,"?limit=").concat(i,"&offset=").concat(a),c&&!isNaN(c)&&(s+="&grade=".concat(c)),t.next=7,fetch(s);case 7:if(200!==(l=t.sent).status){t.next=15;break}return t.next=11,l.json();case 11:u=t.sent,e.setState((function(e){return{notes:_(e.notes).concat(_(u.data)),offset:a+u.data.length,loading:!1,hasMore:u.data.length===i}})),t.next=16;break;case 15:e.setState({loading:!1,hasMore:!1});case 16:case"end":return t.stop()}}),t)})).bind(e)).bind(v(e)),e.handleSearch=function(t,n){n?n!==e.props.searchQuery&&window.location.assign("/notes?q=".concat(n).concat(null===e.state.gradeFilter?"":"&grade=".concat(e.state.gradeFilter))):window.location.assign("/notes")},e}return t=l,(n=[{key:"render",value:function(){var e="/notes".concat(null==this.props.searchQuery?"?":"?q=".concat(this.props.searchQuery,"&"));return console.log(this.state.notes),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{}),(0,i.jsxs)("div",{className:"px-12 pt-10",children:[(0,i.jsx)("div",{className:"flex flex-row items-center justify-between mb-",children:(0,i.jsx)("h1",{className:"font-black font-title text-5xl",children:"Pre-IB Notes for all subjects"})}),(0,i.jsx)("div",{className:"my-6",children:(0,i.jsx)(p.Z,{initialValue:this.props.searchQuery,onSearch:this.handleSearch})}),(0,i.jsxs)("div",{className:"m-7 md:grid grid-cols-7",children:[(0,i.jsxs)("div",{className:"col-span-1",children:[(0,i.jsx)("h3",{className:"text-lg font-bold mb-3",children:"Filter By Grade"}),(0,i.jsxs)("div",{className:"inline-flex md:inline-block flex-wrap",children:[[9,10,11,12].map((function(t,n){return(0,i.jsx)(k,{children:(0,i.jsx)(s.default,{href:"".concat(e,"filter=").concat(t),children:(0,i.jsx)("a",{className:"text-white no-underline hover:no-underline hover:text-white",children:"Grade ".concat(t)})})},n)})),(0,i.jsx)(k,{children:(0,i.jsx)(s.default,{href:e,children:(0,i.jsx)("a",{className:"text-white no-underline hover:no-underline hover:text-white",children:"None"})})})]})]}),(0,i.jsxs)("div",{className:"p-3 w-full col-span-6",children:[null===this.props.error?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(h.Z,{onReachEnd:this.loadMore,children:(0,i.jsx)("div",{className:"grid grid-cols-3 gap-6",children:this.state.notes.map((function(e){return(0,i.jsx)(d,{id:e.id,grade:e.grade.toString(),title:e.title,subjects:[e.courseName,e.grade<11?"Pre-IB":"IB"],imageURL:e.preview},e.id)}))})})}):(0,i.jsx)("div",{className:"grid place-items-center h-full",children:(0,i.jsx)("h3",{className:"text-3xl text-red-700 font-bold",children:this.props.error})}),(0,i.jsx)("div",{className:"mt-5",children:this.state.loading&&(0,i.jsx)(x.Z,{message:"Loading..."})})]})]})]})]})}}])&&j(t.prototype,n),r&&j(t,r),l}(a.Component),R=!0},843:function(e){e.exports={card:"notecard_card__J2nXa"}}},function(e){e.O(0,[774,888,179],(function(){return t=1797,e(e.s=t);var t}));var t=e.O();_N_E=t}]);